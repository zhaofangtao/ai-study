<!--pages/achievements/achievements.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="header">
    <view class="title">
      <text class="logo">ğŸ†</text>
      <text class="title-text">å­¦ä¹ æˆå°±</text>
    </view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡æ¦‚è§ˆ -->
  <view class="stats-overview">
    <view class="stats-card">
      <view class="stats-item">
        <view class="stats-number">{{learningStats.totalQuestionsAnswered}}</view>
        <view class="stats-label">å·²å›ç­”é—®é¢˜</view>
      </view>
      <view class="stats-item">
        <view class="stats-number">{{learningStats.totalTopicsCompleted}}</view>
        <view class="stats-label">å®Œæˆä¸»é¢˜</view>
      </view>
      <view class="stats-item">
        <view class="stats-number">{{learningStats.streakDays}}</view>
        <view class="stats-label">è¿ç»­å¤©æ•°</view>
      </view>
    </view>
  </view>

  <!-- æˆå°±è¿›åº¦ -->
  <view class="achievement-progress">
    <view class="section-title-white">
      <text class="section-icon">ğŸ“Š</text>
      <text>æˆå°±è¿›åº¦</text>
    </view>
    <view class="progress-card-full">
      <view class="progress-info-full">
        <text class="progress-text-full">å·²è§£é” {{unlockedAchievements}}/{{totalAchievements}} ä¸ªæˆå°±</text>
        <view class="progress-bar-full">
          <view class="progress-fill-full" style="width: {{(unlockedAchievements/totalAchievements)*100}}%"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- æˆå°±åˆ—è¡¨ -->
  <view class="achievements-section">
    <view class="section-title">
      <text class="section-icon">ğŸ–ï¸</text>
      <text>æˆå°±åˆ—è¡¨</text>
    </view>
    
    <view class="achievements-list">
      <view 
        wx:for="{{achievements}}" 
        wx:key="id" 
        class="achievement-item {{item.unlocked ? 'unlocked' : 'locked'}}"
        bindtap="shareAchievement"
        data-id="{{item.id}}"
      >
        <view class="achievement-icon">{{item.icon}}</view>
        <view class="achievement-info">
          <view class="achievement-name">{{item.name}}</view>
          <view class="achievement-desc">{{item.desc}}</view>
          <view class="achievement-progress" wx:if="{{!item.unlocked}}">
            <view class="progress-bar-small">
              <view class="progress-fill-small" style="width: {{item.progressPercent}}%"></view>
            </view>
            <text class="progress-text-small">{{item.progress}}/{{item.target}}</text>
          </view>
        </view>
        <view class="achievement-status">
          <view wx:if="{{item.unlocked}}" class="status-unlocked">âœ“</view>
          <view wx:else class="status-locked">ğŸ”’</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="actions">
    <button class="action-btn reset-btn" bindtap="resetStats">
      <text class="btn-icon">ğŸ”„</text>
      <text>é‡ç½®ç»Ÿè®¡</text>
    </button>
  </view>
</view>