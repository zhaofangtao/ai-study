# 🚀 智能学习助手 Vercel 快速部署指南

## 📋 部署前准备

### 必需文件检查
确保你有以下文件：
- ✅ `智能学习助手.html` - 主应用文件
- ✅ `package.json` - 项目配置
- ✅ `vercel.json` - Vercel 配置
- ✅ `api/proxy.js` - API 代理函数

## 🎯 三种部署方式

### 方式一：自动设置 + 部署（推荐新手）

```bash
# 1. 运行自动设置脚本
npm run setup

# 2. 安装 Vercel CLI
npm install -g vercel

# 3. 登录 Vercel
vercel login

# 4. 一键部署
npm run deploy
```

### 方式二：使用部署脚本

**Windows 用户：**
```batch
# 双击运行或在命令行执行
deploy-windows.bat
```

**Mac/Linux 用户：**
```bash
# 给脚本执行权限
chmod +x deploy.sh

# 运行部署脚本
./deploy.sh
```

### 方式三：手动部署

```bash
# 1. 创建必要目录
mkdir -p public api

# 2. 复制主文件
cp 智能学习助手.html public/

# 3. 安装 Vercel CLI
npm install -g vercel

# 4. 登录并部署
vercel login
vercel --prod
```

## 🔧 部署后验证

### 自动测试
```bash
# 测试部署结果（替换为你的实际 URL）
node test-deployment.js https://your-project.vercel.app
```

### 手动验证
访问以下链接确认部署成功：

1. **主页**: `https://your-project.vercel.app/`
2. **应用**: `https://your-project.vercel.app/智能学习助手.html`
3. **API**: `https://your-project.vercel.app/api/proxy`
4. **PWA**: `https://your-project.vercel.app/manifest.json`

## ⚙️ 环境变量配置

在 Vercel 控制台设置以下环境变量：

| 变量名 | 说明 | 必需 |
|--------|------|------|
| `DEEPSEEK_API_KEY` | DeepSeek API 密钥 | 可选 |
| `OPENAI_API_KEY` | OpenAI API 密钥 | 可选 |

**设置步骤：**
1. 访问 [Vercel 控制台](https://vercel.com/dashboard)
2. 选择你的项目
3. 进入 Settings → Environment Variables
4. 添加环境变量

## 🎨 自定义配置

### 修改域名
1. 在 Vercel 项目设置中添加自定义域名
2. 更新 `public/sitemap.xml` 中的域名
3. 更新 `public/robots.txt` 中的域名

### 修改应用信息
编辑 `public/manifest.json`：
```json
{
  "name": "你的应用名称",
  "short_name": "短名称",
  "description": "应用描述"
}
```

## 🔍 常见问题

### Q: 部署后页面显示 404
**A:** 确保 `智能学习助手.html` 文件在 `public/` 目录下

### Q: API 调用失败
**A:** 检查 `api/proxy.js` 文件是否存在，确认 API 密钥配置正确

### Q: CORS 错误
**A:** 确认 `vercel.json` 中的 CORS 配置正确

### Q: 部署失败
**A:** 运行 `vercel logs` 查看详细错误信息

## 📊 性能优化建议

1. **启用缓存**
   - 静态资源自动缓存
   - API 响应适当缓存

2. **压缩优化**
   - Vercel 自动启用 Gzip/Brotli
   - 图片自动优化

3. **CDN 加速**
   - 全球 CDN 自动分发
   - 边缘计算支持

## 🔐 安全最佳实践

1. **API 密钥保护**
   - 使用环境变量存储
   - 不要在前端代码中暴露

2. **CORS 配置**
   - 限制允许的域名
   - 设置适当的请求头

3. **安全头部**
   - 已自动配置安全头部
   - 防止 XSS 和点击劫持

## 📈 监控和分析

### Vercel Analytics
```javascript
// 在 HTML 中添加（可选）
<script defer src="/_vercel/insights/script.js"></script>
```

### 自定义监控
- 查看 Vercel 控制台的 Analytics 页面
- 监控 API 调用次数和响应时间
- 查看用户访问统计

## 🎯 下一步

部署成功后，你可以：

1. **配置自定义域名**
2. **设置 API 密钥**
3. **启用 Analytics**
4. **添加更多功能**
5. **优化性能**

## 📞 获取帮助

- 📖 [完整部署指南](./Vercel部署完整指南.md)
- 🐛 [提交问题](https://github.com/yourusername/smart-learning-assistant/issues)
- 💬 [Vercel 社区](https://vercel.com/community)

---

🎉 **恭喜！你的智能学习助手现在已经在 Vercel 上运行了！**

访问你的部署链接开始使用吧！